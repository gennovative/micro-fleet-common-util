{"version":3,"sources":["app/Guard.ts"],"names":[],"mappings":"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","file":"Guard.js","sourcesContent":["const isEmpty = require('lodash/isEmpty');\r\nconst isFunction = require('lodash/isFunction');\r\n\r\nimport * as ex from './Exceptions';\r\n\r\n\r\nexport class Guard {\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is not null or undefined.\r\n\t * @param name {string} Name to include in error message if assertion fails.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @throws {InvalidArgumentException} If assertion fails.\r\n\t */\r\n\tpublic static assertArgDefined(name: string, target: any, message?: string): void {\r\n\t\tif (target === null || target === undefined) {\r\n\t\t\tthrow new ex.InvalidArgumentException(name, message || 'Must not be null or undefined!');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is an object, array, or string which is not null or undefined.\r\n\t * If `target` is a string or array, it must have `length` greater than 0,\r\n\t * If it is an object, it must have at least one property.\r\n\t * @param name {string} Name to include in error message if assertion fails.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @throws {InvalidArgumentException} If assertion fails.\r\n\t */\r\n\tpublic static assertArgNotEmpty(name: string, target: any, message?: string): void {\r\n\t\tif (isEmpty(target)) {\r\n\t\t\tthrow new ex.InvalidArgumentException(name, message || 'Must not be null, undefined or empty!');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is a function.\r\n\t * @param name {string} Name to include in error message if assertion fails.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @throws {InvalidArgumentException} If assertion fails.\r\n\t */\r\n\tpublic static assertArgFunction(name: string, target: any, message?: string): void {\r\n\t\tif (!isFunction(target)) {\r\n\t\t\tthrow new ex.InvalidArgumentException(name, message || 'Must be a function!');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` matches Regular Expression `rule`.\r\n\t * @param name {string} Name to include in error message if assertion fails.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @throws {InvalidArgumentException} If assertion fails.\r\n\t */\r\n\tpublic static assertArgMatch(name: string, rule: RegExp, target: string, message?: string): void {\r\n\t\tif (!rule.test(target)) {\r\n\t\t\tthrow new ex.InvalidArgumentException(name, message || 'Does not match specified rule!');\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is not null or undefined.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @param isCritical {boolean} If true, throws CriticalException. Otherwise, throws MinorException when assertion fails.\r\n\t * @throws {CriticalException} If assertion fails and `isCritical` is true.\r\n\t * @throws {MinorException} If assertion fails and `isCritical` is false.\r\n\t */\r\n\tpublic static assertIsDefined(target: any, message?: string, isCritical: boolean = true): void {\r\n\t\tGuard.assertIsFalsey(target === null || target === undefined, message, isCritical);\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is an object, array, or string which is not null or undefined.\r\n\t * If `target` is a string or array, it must have `length` greater than 0,\r\n\t * If it is an object, it must have at least one property.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @param isCritical {boolean} If true, throws CriticalException. Otherwise, throws MinorException when assertion fails.\r\n\t * @throws {CriticalException} If assertion fails and `isCritical` is true.\r\n\t * @throws {MinorException} If assertion fails and `isCritical` is false.\r\n\t */\r\n\tpublic static assertIsNotEmpty(target: any, message?: string, isCritical: boolean = true): void {\r\n\t\tGuard.assertIsFalsey(isEmpty(target), message, isCritical);\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is a function.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @param isCritical {boolean} If true, throws CriticalException. Otherwise, throws MinorException when assertion fails.\r\n\t * @throws {CriticalException} If assertion fails and `isCritical` is true.\r\n\t * @throws {MinorException} If assertion fails and `isCritical` is false.\r\n\t */\r\n\tpublic static assertIsFunction(target: any, message?: string, isCritical: boolean = true): void {\r\n\t\tGuard.assertIsTruthy(isFunction(target), message, isCritical);\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` matches Regular Expression `rule`.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Optional error message.\r\n\t * @param isCritical {boolean} If true, throws CriticalException. Otherwise, throws MinorException when assertion fails.\r\n\t * @throws {CriticalException} If assertion fails and `isCritical` is true.\r\n\t * @throws {MinorException} If assertion fails and `isCritical` is false.\r\n\t */\r\n\tpublic static assertIsMatch(rule: RegExp, target: string, message?: string, isCritical: boolean = true): void {\r\n\t\tGuard.assertIsTruthy(rule.test(target), message, isCritical);\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is considered \"truthy\" based on JavaScript rule.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Error message.\r\n\t * @param isCritical {boolean} If true, throws CriticalException. Otherwise, throws MinorException when assertion fails.\r\n\t * @throws {CriticalException} If assertion fails and `isCritical` is true.\r\n\t * @throws {MinorException} If assertion fails and `isCritical` is false.\r\n\t */\r\n\tpublic static assertIsTruthy(target: any, message: string, isCritical: boolean = true): void {\r\n\t\tif (!target) {\r\n\t\t\tif (isCritical) {\r\n\t\t\t\tthrow new ex.CriticalException(message);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new ex.MinorException(message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the specified `target` is considered \"falsey\" based on JavaScript rule.\r\n\t * @param target {any} Argument to check.\r\n\t * @param message {string} Error message.\r\n\t * @throws {InvalidArgumentException} If assertion fails.\r\n\t */\r\n\tpublic static assertIsFalsey(target: any, message: string, isCritical: boolean = true): void {\r\n\t\tif (target) {\r\n\t\t\tif (isCritical) {\r\n\t\t\t\tthrow new ex.CriticalException(message);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new ex.MinorException(message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}"]}